<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Eternos</title>

    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/socket.io-client/dist/socket.io.js"></script>
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
</head>
<body>

    <div class="container">
        <h1>Eternos</h1>
        <div class="row">
            <div class="col-md-10 col-md-offset-1">

                <div class="chat" id="chat"></div>

                <form id="messageForm">
                    <div class="form-group">
                        <label>Enter message</label>
                        <textarea class="form-control" id="message"></textarea>
                        <br/>
                        <input type="submit" class="btn btn-primary" value="Send" id="sendMessage">
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script>
        var socket = io.connect();
        var $chat = $("#chat");
        var $messageForm = $("#messageForm");
        var $message = $("#message");
        var $sendMessage = $("#sendMessage");

        $messageForm.submit(function(event)
        {
        	event.preventDefault();
            socket.emit("send message", $message.val());
            $message.val("");

        });

        socket.on("new message", function (data)
        {
            $chat.append("<div class=\"well\">" + data.msg + "</div>");
		});
    </script>
</body>
</html>